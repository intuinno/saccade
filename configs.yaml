defaults:
  behavior: 'vanilla_AC' # vanilla_AC or imagine_AC
  num_loc_per_side: 4
  batch_size: 512
  eval_batch_size: 512
  exp_name: 'default'
  logdir: 'logs'
  # load_model: 'models/sac-013-rev2-large_16200.pt'
  load_model: ''
  seed: 0
  deterministic_run: True
  steps: 1e9
  eval_every: 50000
  log_every: 10000
  reset_every: 64
  device: 'cuda:0'
  compile: True
  precision: 32
  debug: False
  reward_EMA: True
  num_epochs: 30000

  # Environment
  action_repeat: 1

  # Model
  dyn_hidden: 512
  dyn_deter: 512
  dyn_stoch: 32
  dyn_discrete: 32
  dyn_rec_depth: 1
  dyn_mean_act: 'none'
  dyn_std_act: 'sigmoid2'
  dyn_min_std: 0.1
  units: 1024
  dyn_act: 'SiLU'
  dyn_norm: True
  enc_num_layers: 3
  enc_emb_size: 1024
  enc_act: 'SiLU'
  enc_norm: True
  enc_symlog_inputs: True
  dec_num_layers: 3
  dec_emb_size: 1024
  dec_act: 'SiLU'
  dec_norm: True 
  dec_dist: symlog_mse 
  dec_outscale: 1.0 
  feeder_keys: {'central': 256, 'peripheral':64, 'loc': 16}
  actor:
    {layers: 3, dist: 'onehot', entropy: 3e-4, unimix_ratio: 0.01, std: 'none', min_std: 0.1, max_std: 1.0, temp: 0.1, lr: 3e-5, eps: 1e-5, grad_clip: 100.0, outscale: 1.0, act: 'SiLU', norm: True}
  critic:
    {layers: 2, dist: 'symlog_disc', slow_target: True, slow_target_update: 1, slow_target_fraction: 0.02, lr: 3e-5, eps: 1e-5, grad_clip: 100.0, outscale: 0.0, act: 'SiLU', norm: True}
  dyn_scale: 0.5
  rep_scale: 0.1
  kl_free: 1.0
  weight_decay: 0.0
  unimix_ratio: 0.01
  initial: 'learned'

  # Training
  total_eval_batch_size: 10240
  batch_length: 64
  train_ratio: 512
  pretrain: 100
  lr: 1e-4
  opt_eps: 1e-8
  grad_clip: 1000
  dataset_size: 10000000
  opt: 'adam'
  save_model_every: 1
  backup_model_every: 100
  train_gif_every: 100
  eval_obs_length: 16
  eval_img_length: 64

  # Behavior.
  discount_gamma: 0.997
  discount_lambda: 0.95
  imag_horizon: 15
  imag_gradient: 'dynamics'
  imag_gradient_mix: 0.0
  eval_state_mean: False

  # Exploration
  expl_behavior: 'greedy'
  expl_until: 0
  expl_extr_scale: 0.0
  expl_intr_scale: 1.0
  disag_target: 'stoch'
  disag_log: True
  disag_models: 10
  disag_offset: 1
  disag_layers: 4
  disag_units: 400
  disag_action_cond: False

  # L2HWM
  tmp_abs_factor: 1

sac-013-rev0:
  exp_name: 'sac-013-rev0'
  intrinsic_reward: 'prediction_error'
  behavior: 'vanilla_AC'
  dyn_hidden: 32
  dyn_deter: 32
  dyn_stoch: 8
  dyn_discrete: 8
  enc_emb_size: 64
  dec_emb_size: 64

sac-013-rev1:
  exp_name: 'sac-013-rev1'
  intrinsic_reward: 'prediction_error'
  behavior: 'vanilla_AC'
  dyn_hidden: 512
  dyn_deter: 512
  dyn_stoch: 32
  dyn_discrete: 32
  enc_emb_size: 1024
  dec_emb_size: 1024
    
sac-013-rev2-large:
  exp_name: 'sac-013-rev2-large'
  intrinsic_reward: 'prediction_error'
  behavior: 'vanilla_AC'
  dyn_hidden: 512
  dyn_deter: 512
  dyn_stoch: 32
  dyn_discrete: 32
  enc_emb_size: 1024
  dec_emb_size: 1024
  batch_size: 256

sac-013-rev2-small:
  exp_name: 'sac-013-rev2-small'
  intrinsic_reward: 'prediction_error'
  behavior: 'vanilla_AC'
  dyn_hidden: 32
  dyn_deter: 32
  dyn_stoch: 8
  dyn_discrete: 8
  enc_emb_size: 64
  dec_emb_size: 64

debug:
  debug: True
  pretrain: 1
  prefill: 1000
  batch_size: 4
  eval_batch_size: 8
  batch_length: 20
  device: 'cpu'
  parallel: False
  exp_name: 'debug-'
  compile: False
  total_eval_batch_size: 128
  eval_every: 128
  train_ratio: 64
